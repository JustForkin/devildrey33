<div class='Codigo_Marco' id='IDMain'><div class='Codigo_Titulo'>Archivo : main.cpp</div><div class='Codigo_Numeracion'>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>23<br>24<br>25<br>26<br>27<br>28<br>29<br>30<br>31<br>32<br></div><pre class='Codigo_PRECodigo'><div l=1><span class='TxtNegro'><span class='TxtAzul'>int</span> APIENTRY WinMain(HINSTANCE hIns, HINSTANCE hPrevIns, LPSTR lpCmdLine, <span class='TxtAzul'>int</span> nCmdShow){</span></div><div l=2><span class='TxtNegro'>    <span class='TxtVerde'>// Asignación del filtro de errores</span></span></div><div l=3><span class='TxtNegro'>    LPTOP_LEVEL_EXCEPTION_FILTER Filtro;</span></div><div l=4><span class='TxtNegro'>    Filtro = SetUnhandledExceptionFilter((LPTOP_LEVEL_EXCEPTION_FILTER)FiltroError);</span></div><div l=5><span class='TxtNegro'>    <span class='TxtVerde'>// Creación de la clase ventana</span></span></div><div l=6><span class='TxtNegro'>    WNDCLASSEX wcex;</span></div><div l=7><span class='TxtNegro'>    wcex.cbSize         = <span class='TxtAzul'>sizeof</span>(WNDCLASSEX);</span></div><div l=8><span class='TxtNegro'>    wcex.style          = CS_HREDRAW | CS_VREDRAW;</span></div><div l=9><span class='TxtNegro'>    wcex.lpfnWndProc    = WndProc;</span></div><div l=10><span class='TxtNegro'>    wcex.cbClsExtra     = <span class='TxtRojo'>0</span>;</span></div><div l=11><span class='TxtNegro'>    wcex.cbWndExtra     = <span class='TxtRojo'>0</span>;</span></div><div l=12><span class='TxtNegro'>    wcex.hInstance      = hIns;</span></div><div l=13><span class='TxtNegro'>    wcex.hIcon          = NULL;</span></div><div l=14><span class='TxtNegro'>    wcex.hCursor        = LoadCursor(NULL, IDC_ARROW);</span></div><div l=15><span class='TxtNegro'>    wcex.hbrBackground  = (HBRUSH)(COLOR_WINDOW+<span class='TxtRojo'>1</span>);</span></div><div l=16><span class='TxtNegro'>    wcex.lpszMenuName   = NULL;</span></div><div l=17><span class='TxtNegro'>    wcex.lpszClassName  = TEXT(<span class='TxtRojo'>"VentanaDump"</span>);</span></div><div l=18><span class='TxtNegro'>    wcex.hIconSm        = NULL;</span></div><div l=19><span class='TxtNegro'>    RegisterClassEx(&wcex);</span></div><div l=20><span class='TxtNegro'>    <span class='TxtVerde'>// Creación de la ventana</span></span></div><div l=21><span class='TxtNegro'>    HWND hWndVentana = CreateWindowEx( NULL, TEXT(<span class='TxtRojo'>"VentanaDump"</span>), TEXT(<span class='TxtRojo'>"Ventana Dump"</span>),</span></div><div l=22><span class='TxtNegro'>                                       WS_OVERLAPPEDWINDOW | WS_VISIBLE,</span></div><div l=23><span class='TxtNegro'>                                       <span class='TxtRojo'>100</span>, <span class='TxtRojo'>100</span>, <span class='TxtRojo'>200</span>, <span class='TxtRojo'>200</span>, NULL, NULL, </span></div><div l=24><span class='TxtNegro'>                                       GetModuleHandle(NULL), NULL);</span></div><div l=25><span class='TxtNegro'>    <span class='TxtVerde'>// Bucle de mensajes principal</span></span></div><div l=26><span class='TxtNegro'>    MSG  msg;</span></div><div l=27><span class='TxtNegro'>    <span class='TxtAzul'>while</span> (GetMessage(&msg, NULL, <span class='TxtRojo'>0</span>, <span class='TxtRojo'>0</span>)) {</span></div><div l=28><span class='TxtNegro'>        TranslateMessage(&msg);</span></div><div l=29><span class='TxtNegro'>        DispatchMessage(&msg);</span></div><div l=30><span class='TxtNegro'>    }</span></div><div l=31><span class='TxtNegro'>    <span class='TxtAzul'>return</span> <span class='TxtRojo'>0</span>;</span></div><div l=32><span class='TxtNegro'>}</span></div></pre></div>